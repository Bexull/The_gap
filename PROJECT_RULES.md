# PROJECT RULES - Bot Kenmart

## üéØ –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
Telegram –±–æ—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–º–µ–Ω–∞–º–∏ –∏ –∑–∞–¥–∞–Ω–∏—è–º–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ —Ü–µ–Ω—Ç—Ä–∞. –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –¥–≤—É–º—è —Ç–∏–ø–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: –û–ü–í (–æ–ø–µ—Ä–∞—Ç–æ—Ä—ã) –∏ –ó–° (–∑–∞–≤–µ–¥—É—é—â–∏–µ —Å–º–µ–Ω).

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª–µ–π:
- **config/settings.py** - –≤—Å–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã, —Ç–æ–∫–µ–Ω—ã, TOPIC_IDS –¥–ª—è —Å–µ–∫—Ç–æ—Ä–æ–≤
- **database/sql_client.py** - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î wms_bot
- **handlers/** - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ (auth, shift, task, zs)
- **keyboards/** - –∏–Ω–ª–∞–π–Ω –∏ reply –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–æ–ª–µ–π
- **utils/** - –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (time, task)
- **scheduler/** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏–π

### –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã:
- **main.py** - —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (–∑–∞–ø—É—Å–∫: `python main.py`)
- **src/main.py** - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- **kidou_s.py** - SQL –∑–∞–ø—Ä–æ—Å—ã (–ª–µ–≥–∞—Å–∏)

## üîë –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –¢–æ–∫–µ–Ω—ã:
- **–¢–µ—Å—Ç–æ–≤—ã–π**: `8390538420:AAHywQUJxxBQrs_ZsE32RlatCiDvR2-WPqs` (TestMag)
- **–†–∞–±–æ—á–∏–π**: –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ settings.py

### –ì—Ä—É–ø–ø—ã:
- **–¢–µ—Å—Ç–æ–≤–∞—è**: `-1003089690648`
- **–û—Å–Ω–æ–≤–Ω–∞—è**: `-1002917837249` (–∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞)

### TOPIC_IDS (TestMag):
```python
TOPIC_IDS = {
    '–ë–∞–∫–∞–ª–µ—è': 65, '–ù–∞–ø–∏—Ç–∫–∏': 69, '–•–∏–º–∏—è': 67, '–°–æ—Ñ': 77,
    '–ú–æ–ª–æ—á–∫–∞': 79, '–ì–∞—Å—Ç—Ä–æ–Ω–æ–º–∏—è': 75, '–•–æ–ª–æ–¥–Ω–∞—è –∑–æ–Ω–∞': 73,
    '–°—É—Ö–∞—è –∑–æ–Ω–∞': 71, '–ó–∞–º–æ—Ä–æ–∑–∫–∞': 81
}
```

## üë• –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –û–ü–í (–û–ø–µ—Ä–∞—Ç–æ—Ä—ã):
- –ü–æ–ª—É—á–∞—é—Ç –∑–∞–¥–∞–Ω–∏—è –∏–∑ —Å–µ–∫—Ç–æ—Ä–æ–≤
- –í—ã–ø–æ–ª–Ω—è—é—Ç –∑–∞–¥–∞–Ω–∏—è (—Ñ–æ—Ç–æ + –æ–ø–∏—Å–∞–Ω–∏–µ)
- –û—Ç–ø—Ä–∞–≤–ª—è—é—Ç –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É –ó–°
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ**: –Ω–µ–ª—å–∑—è –±—Ä–∞—Ç—å –Ω–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ, –ø–æ–∫–∞ —Ç–µ–∫—É—â–µ–µ –Ω–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ

### –ó–° (–ó–∞–≤–µ–¥—É—é—â–∏–µ):
- –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—é—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—Ç –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –Ω–∞ –¥–æ—Ä–∞–±–æ—Ç–∫—É
- –ü–æ–ª—É—á–∞—é—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –∑–∞–¥–∞–Ω–∏—è—Ö

## üö´ –°–∏—Å—Ç–µ–º–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π

### –ü—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–¥ –≤—ã–¥–∞—á–µ–π –∑–∞–¥–∞–Ω–∏–π:
1. **–ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è** - —Å—Ç–∞—Ç—É—Å: '–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è', '–ù–∞ –¥–æ—Ä–∞–±–æ—Ç–∫–µ', '–ó–∞–º–æ—Ä–æ–∂–µ–Ω–æ'
2. **–ù–µ–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã–µ** - —Å—Ç–∞—Ç—É—Å: '–û–∂–∏–¥–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏'

### –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏:
```python
check_user_task_status(staff_id: str) -> dict
```

## üîÑ –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∑–∞–¥–∞–Ω–∏—è

1. **–ü–æ–ª—É—á–µ–Ω–∏–µ** ‚Üí '–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è'
2. **–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ** ‚Üí '–û–∂–∏–¥–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏' 
3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ó–°** ‚Üí '–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ' –∏–ª–∏ '–ù–∞ –¥–æ—Ä–∞–±–æ—Ç–∫–µ'
4. **–ù–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ** ‚Üí —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ '–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ'

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã (UPDATES.txt)

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ:
- ‚ùå –ù–µ—Ç –∫–Ω–æ–ø–∫–∏ "–ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ" –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è
- ‚ùå –ù—É–∂–Ω–æ –≤–≤–æ–¥–∏—Ç—å `/complete_the_task` –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ 3 —Ñ–æ—Ç–æ
- ‚ùå –ù–µ—Ç –∫–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥" –≤ –º–µ–Ω—é –≤—ã–±–æ—Ä–∞ —Å–º–µ–Ω—ã/—Ä–æ–ª–∏
- ‚ùå –ö–æ–º–∞–Ω–¥—ã —Ç–∏–ø–∞ `/shift_end` –Ω–µ –∏–º–µ—é—Ç reply –∫–Ω–æ–ø–æ–∫

### –¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏:
- üîç –õ–æ–≥–∏–∫–∞ "–ó–∞–ø—Ä–µ—Ç–∏—Ç—å –±—Ä–∞—Ç—å —Å–ª–µ–¥—É—é—â–µ–µ –∑–∞–¥–∞–Ω–∏–µ, –ø–æ–∫–∞ —Ç–µ–∫—É—â–µ–µ –Ω–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ"

## üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:
- **–ù–∞–∑–≤–∞–Ω–∏–µ**: wms_bot
- **–¢—Ä–µ–±—É–µ—Ç VPN** –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- **SQLAlchemy** –¥–ª—è —Ä–∞–±–æ—Ç—ã

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```
telegram, pandas, SQLAlchemy, python-dotenv
```

### –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–≤ settings.py):
```python
active_tasks = {}
zav_on_shift = []
task_assignments = {}
assignments = []
```

## üìã –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –∫–æ–¥–æ–º:
1. **–°–æ—Ö—Ä–∞–Ω—è—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - –∏–º–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–π –∏ callback'–æ–≤ –Ω–µ –º–µ–Ω—è—Ç—å
2. **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å** - –∫–∞–∂–¥—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –º–æ–¥—É–ª–µ
3. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ settings.py
4. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –≥—Ä—É–ø–ø—É –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–∫–∞—Ö

### –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ñ—É–Ω–∫—Ü–∏–π:
1. –ü—Ä–æ–≤–µ—Ä—è—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –∑–∞–¥–∞–Ω–∏—è
2. –î–æ–±–∞–≤–ª—è—Ç—å reply –∫–Ω–æ–ø–∫–∏ –≤–º–µ—Å—Ç–æ –∫–æ–º–∞–Ω–¥
3. –û–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏—é "–ù–∞–∑–∞–¥"
4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –æ–±–µ–∏—Ö —Ä–æ–ª—è—Ö (–û–ü–í –∏ –ó–°)

### –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫:
1. –ü—Ä–æ–≤–µ—Ä—è—Ç—å VPN –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ —Ç–µ—Å—Ç–æ–≤–æ–π –≥—Ä—É–ø–ø–µ
3. –û–±–Ω–æ–≤–ª—è—Ç—å UPDATES.txt
4. –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Ä–∞–±–æ—Ç—É —Å –ë–î

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã:
- `test_task_restrictions.py` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
- `test_navigation.py` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- `testDB.py` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ë–î

### –°—Ü–µ–Ω–∞—Ä–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
1. –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è –û–ü–í
2. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è —Å —Ñ–æ—Ç–æ
3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ó–°
4. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –Ω–æ–≤—ã–µ –∑–∞–¥–∞–Ω–∏—è
5. –ù–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É –º–µ–Ω—é

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å VPN –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –±–æ—Ç–∞
3. –£–±–µ–¥–∏—Ç—å—Å—è –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ —Å—Ç–∞—Ç—É—Å–æ–≤ –ë–î
4. –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ –≥—Ä—É–ø–ø—É `-1003089690648`

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
- –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ –≥—Ä—É–ø–ø—É
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Å—Ç–∞—Ç—É—Å—ã –∑–∞–¥–∞–Ω–∏–π –≤ –ë–î
- –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Å—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
